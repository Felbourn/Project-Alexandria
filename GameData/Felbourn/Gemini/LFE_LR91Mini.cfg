PART
{

	name = His_FASAGeminiLR91Mini
	module = Part
	author = Frizzank

	MODEL
	{
	  	model = FASA/Gemini2/FASA_Gemini_LR91_Pack/LFE_LR91Mini
		scale = 2.4,2.4,2.4
	}

	MODEL
	{
		model = RLA_Stockalike/Parts/Control/mp_small_rcs/rcsoffset2
		position = -1.28,-0.16,0
	}
	MODEL
	{
		model = RLA_Stockalike/Parts/Control/mp_small_rcs/rcsoffset2
		position = 0,-0.16,1.28
		rotation = 0,90,0
	}
	MODEL
	{
		model = RLA_Stockalike/Parts/Control/mp_small_rcs/rcsoffset2
		position = 1.28,-0.16,0
		rotation = 0,180,0
	}
	MODEL
	{
		model = RLA_Stockalike/Parts/Control/mp_small_rcs/rcsoffset2
		position = 0,-0.16,-1.28
		rotation = 0,270,0
	}

	MODEL
	{
		model = Tantares/Parts/VOSTOK/Vostok_Mono_A
		position = -0.56,-0.42,0.56
		scale = 2,2,2
		rotation = 305,135,0
	}
	MODEL
	{
		model = Tantares/Parts/VOSTOK/Vostok_Mono_A
		position = 0.56,-0.42,-0.56
		scale = 2,2,2
		rotation = 305,315,0
	}

	RESOURCE
	{
		name = Nitrogen
		amount = 9600
		maxAmount = 9600
	}


	rescaleFactor = 1
	scale = 1.0

	node_stack_top = 0,0.08,0,      0,1,0,   3
	node_stack_bottom = 0,-2.07,0,  0,-1,0,  3

	TechRequired = precisionEngineering
	entryCost = 2000
	cost = 2000
	category = Propulsion
	subcategory = 0
	title = Gemini LR-91
	manufacturer = FASA
	description = LR-91 Engine. Small, light, and efficient

	attachRules = 1,0,1,1,0

	mass = 0.565
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 12
	breakingForce = 30
	breakingTorque = 30
	maxTemp = 2500

	stagingIcon = LIQUID_ENGINE
	 
	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = thrustTransform
		exhaustDamage = True
		ignitionThreshold = 0.025
		minThrust = 0
		maxThrust = 125
		heatProduction = 150
		fxOffset = 0, 0, 0.15
		PROPELLANT
		{
			name = LiquidFuel
	       	ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
	 	{
	   	 key = 0 1
	  	 key = 1 1
	 	}		
        powerEffectName = Hypergolic-Upper
	}
    MODULE
    {
        name = ModuleEngineConfigs
        type = ModuleEngines
        modded = false
        configuration = LR-91-7
        CONFIG
        {
            name = LR-91-7
            minThrust = 444.8
            maxThrust = 444.8
            heatProduction = 150
			curveResource = Aerozine50
            PROPELLANT
            {
                name = Aerozine50
                ratio = 1
                DrawGauge = True
            }
            PROPELLANT
            {
                name = NTO
                ratio = 1
            }
            atmosphereCurve
            {
                key = 0 317
                key = 1 161
            }
            thrustCurve
            {
              key = 0.00 1.00
              key = 0.95 1.00
              key = 1.00 0.10
            }
            cost = 0
        }
    }
    PLUME
    {
        name = Hypergolic-Upper
        transformName = thrustTransform
        flarePosition = 0, 0, 0.05
        flareScale = 1.4
        plumePosition = 0, 0, 0
        plumeScale = 1
        energy = 1
        speed = 1
    }

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 4
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ModuleJettison
		jettisonName = fairing
		bottomNodeName = bottom
		isFairing = True
		jettisonedObjectMass = 0.1
		jettisonForce = 1
		jettisonDirection = 0 0 1		
	}

	MODULE
	{
		name = ModuleAnimateHeat
		ThermalAnim = LR91_Anim
	}
	MODULE
	{
		name = ModuleAlternator	
		RESOURCE
		{
			name = ElectricCharge
			rate = 2.0
		}
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 0
		fxMax = 0.5
		maxDistance = 30
		falloff = 1.7
		thrustTransformName = thrustTransform
	}

	MODULE
	{
		name = TweakScale
		type = free
	}

	MODULE
	{
		name = ModuleRCSFX
		thrusterTransformName = RCSthruster
		thrusterPower = 1
		resourceFlowMode = STAGE_PRIORITY_FLOW
		PROPELLANT
		{
			name = IRFNA
			ratio = 0.628
			DrawGauge = True
		}
		PROPELLANT
		{
			name = UDMH
			ratio = 0.843
		}
		atmosphereCurve
		{
			key = 0, 240
			key = 1, 100
			key = 4, 0.001
		}
	}	
}

@PART[His_FASAGeminiLR91Mini]
{
    @MODULE[ModuleEngineConfigs]
    {
        @CONFIG[LR-91-7]
        {
            @PROPELLANT[Aerozine50]
            {
                @ratio = 1
                @ratio /= #$@RESOURCE_DEFINITION[Aerozine50]/density$
            }
            @PROPELLANT[NTO]
            {
                @ratio = 1.79
                @ratio /= #$@RESOURCE_DEFINITION[NTO]/density$
            }
        }
    }
}
