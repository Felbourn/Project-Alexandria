PART
{
	name = Soy_ok_sa

	module = Part
	category = Pods
	subcategory = 0

	MODEL
	{
	  	model = RN_Soyuz/Parts/7k/ok-sa
	}
	MODEL
	{
		model = RN_Soyuz/Parts/7k/ok-sa-cap
		position = 0.0, 1.04, 0.0
	}
	scale = 1
	rescaleFactor = 1

	node_stack_top = 0.0, 1.05, 0.0,           0.0, 1.0, 0.0,   2
	node_stack_bottom = 0.0, -0.96109, 0.0,    0.0, -1.0, 0.0,  2
	node_stack_para = 0.33, 1.02, 0.48,        0.0, 1.0, 0.0,   1
	attachRules = 1,0,1,1,0

	TechRequired = generalRocketry
	cost = 1800
	
	title = Soyuz Descent Module
	manufacturer = Felbourn
	author = Felbourn
	description = Descent module for 7K series of soyuz. Works with both ok and t versions

	mass = 1.74

	dragModelType = default
	maximum_drag = 0.20
	minimum_drag = 0.2
	angularDrag = 2

	crashTolerance = 20

	stagingIcon = COMMAND_POD

	maxTemp = 1200
	skinMaxTemp = 2500

	CoMOffset = 0, -0.3, 0

//	CoPOffset = 0.0, 1.0, 0.0
//	CoLOffset = 0.0, -0.96109, 0.0

	emissiveConst = 0.6 // not too absorptive for reentry

	vesselType = Ship

	fuelCrossFeed = True

	CrewCapacity = 3
	INTERNAL
	{
		name = GenericSpace3
	}

	MODULE
	{
		name = ModuleCommand
		minimumCrew = 0
		
		RESOURCE
		{
			name = ElectricCharge
			rate = 0.02
		}
	}
	MODULE
	{
		name = ModuleSAS
		SASServiceLevel = 3
	}
	RESOURCE
	{
		name = ElectricCharge
		amount = 310
		maxAmount = 310
	}

	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = thrustTransform
		throttleLocked = True
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 20
		maxThrust = 20
		heatProduction = 400
		useEngineResponseTime = True
		engineAccelerationSpeed = 2.0
		allowShutdown = False
		fxOffset = 0, 0, 0.35
        staged = false
       	PROPELLANT 
		{
			name = HTPB
        	ratio = 1.0
			DrawGauge = True
		}
		atmosphereCurve
	 	{
			key = 0 250
			key = 1 230
	 	}
		staged = false
        powerEffectName = Solid-Lower
	}
    PLUME
    {
        name = Solid-Lower
        transformName = thrustTransform
        flarePosition = 0, 0, -0.05
        flareScale = 0.15
        plumePosition = 0, 0, 0.05
        plumeScale = 0.15
        energy = 0.5
        speed = 1
    }

	RESOURCE
	{
		name = HTPB
		amount = 5
		maxAmount = 5
	}

	RESOURCE
	{
		name = UDMH
		amount = 21.47
		maxAmount = 21.47
	}
	RESOURCE
	{
		name = NTO
		amount = 30.61
		maxAmount = 30.61
	}

	MODULE
	{
		name = ModuleJettison
		jettisonName = OK_vzor
		bottomNodeName = top
		isFairing = False
		jettisonedObjectMass = 0.001
		jettisonForce = 0.5
		jettisonDirection = 0 1 0		
	}

	MODULE
	{
		name = ActivateLandingEngineModule
		IgnitionAltitude = 7
	}

	MODULE
	{
		name = FStextureSwitch2
		moduleID = 0

		objectNames = ORBGroup12_002;ORBGroup9;ORBGroup10;ORBGroup11;ORBGroup12;ORBGroup13;ORBGroup14;ORBGroup15;ORBGroup16;ORBGroup17;ORBGroup67;ORBGroup8_002;ORBGroup9_002
		 
		textureRootFolder = RN_Soyuz/Parts/7k/

		textureNames = salyut4_orb;salyut4_orb_light;salyut4_orb_dark
		textureDisplayNames = Green;Light Green;Dark Green

		nextButtonText = Change Texture
		prevButtonText = Previous Texture
		statusText = Current Texture
		switchableInFlight = false
		repaintableEVA = false
		showPreviousButton = false
		updateSymmetry = true
		showInfo = true
	}

	MODULE
	{
		name = FSanimateGeneric
		animationName = Burn
		startEventGUIName = Remove Thermal Covers
		endEventGUIName = Add Thermal Covers
		toggleActionName = Toggle Thermal Covers
		startDeployed = False
		layer = 1
		playAnimationOnEditorSpawn = False
		useActionEditorPopup = True
		moduleID = 0
	}
}
