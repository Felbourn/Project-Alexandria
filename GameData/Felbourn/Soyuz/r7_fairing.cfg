PART
{
	name = Soy_r7_soyuz_fairing2

	module = Part
	category = Structural
	subcategory = 0

	MODEL
	{
	  	model = RN_R7/master/r7_soyuz_fairing2
	}
	scale = 1
	rescaleFactor = 1

	node_stack_top = -1.5, 6.9, 0.0,   -1, 0, 0,   1
	attachRules = 1,0,1,1,0

	fx_gasBurst_white = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, decouple
	sound_decoupler_fire = decouple

	TechRequired = generalRocketry
	entryCost = 2800
	cost = 840

	title = Soyuz Fairing
	author = Felbourn
	manufacturer = Felbourn
	description = Fairing for Soyuz 7K-OK and 7K-T. Larger than the regular one for larger orbital modules.

	mass = 1.6
	CoMOffset = -0.5, 2.9, 0

	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7

	maxTemp = 1400

	fuelCrossFeed = False

	stageOffset = 1
	childStageOffset = 1

	MODULE
	{
		name = ModuleFairingDecoupler
		ejectionForce = 1000
		explosiveNodeID = top
		EXEMPT
		{
			part = Soy_rn_r7_les_okt
		}
	}

	stagingIcon = DECOUPLER_HOR

	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = thrustTransform
		throttleLocked = True
		exhaustDamage = False
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 4
		heatProduction = 100
		useEngineResponseTime = True
		engineAccelerationSpeed = 2.0
		allowShutdown = False
        staging = false
		PROPELLANT
		{
			name = HTPB
	        ratio = 1.0
			DrawGauge = True
		}
		atmosphereCurve
	 	{
	   	 	key = 0 250
	  	 	key = 1 230
	 	}
		ActivatesEvenIfDisconnected = true	
        powerEffectName = Solid-Upper
	}
    PLUME
    {
        name = Solid-Upper
        transformName = thrustTransform
        flarePosition = 0, 0, -1.4
        flareScale = 0.1
        plumePosition = 0, 0, -1.4
        plumeScale = 0.1
        energy = 0.5
        speed = 1
    }
	MODULE
	{
		name = ModuleEngineConfigs
		configuration = Delay
		modded = false
		CONFIG
		{
			name = Delay
			curveResource = HTPB
			thrustCurveUseTime = True
			thrustCurve
			{
				key = 0.0 0.20 // partial power for 1 second
				key = 1.0 0.24
				key = 4.0 1.00
			}
		}
	}

	RESOURCE
	{
		name = HTPB
		amount = 2
		maxAmount = 2
	}
	MODULE
	{
		name = ModuleSeeThroughObject
		transformName = model
	}
}

@PART[Soy_r7_soyuz_fairing2] // this was damaging the solar panels
{
	!MODULE[ModuleEnginesFX] {}
    !PLUME[Solid-Upper] {}
	!MODULE[ModuleEngineConfigs] {}
	!RESOURCE[HTPB] {}
}
