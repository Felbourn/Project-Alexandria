//-------------------------------------------------------------------------------------------------
SCALETYPE
{
    name = R7
    freeScale = false
    scaleNames = R7 ICBM
    scaleFactors = 1.00
}


//=================================================================================================
// CORES
//=================================================================================================

//-------------------------------------------------------------------------------------------------
@PART[r7_blok_a_soyuz|r7_blok_a]
{
	@title = Vostok 8K72K-1
	%RSSROConfig = true
	@MODEL
	{
        @scale = 1, 1, 1
	}
	@scale = 1
	@node_stack_top = 0.0, 14.86146, 0.0,       0.0, 1.0, 0.0,   3
	@node_stack_bottom = 0.0, -11.32858, 0.0,   0.0, -1.0, 0.0,  3
	node_stack_side1 = -1.05, 0, 0.0,           -1.0, 0.0, 0,    3
	node_stack_side2 = 1.05, 0, 0.0,   			1.0, 0.0, 0,     3
	node_stack_side3 = 0, 0, 1.05,   			0, 0.0, 1,       3
	node_stack_side4 = 0.0, 0, -1.05,   		0, 0.0, -1,      3
	stackSymmetry = 3
	@mass = 4
	@maxTemp = 1500
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	%fuelCrossFeed = false
    MODULE
    {
        name = ModuleFuelTanks
        volume = 91288
        type = Balloon
        basemass = -1
        TANK
        {
            name = Kerosene
            amount = 32133
            maxAmount = 32133
        }
        TANK
        {
            name = LqdOxygen
            amount = 59155
            maxAmount = 59155
        }
    }
}


//=================================================================================================
// BOOSTERS
//=================================================================================================

//-------------------------------------------------------------------------------------------------
@PART[r7_blok_bvgd|r7_blok_bvgd_s]
{
	@title = Vostok 8K72K-0
	%RSSROConfig = true
	@MODEL
	{
        @scale = 1, 1, 1
	}
	@scale = 1
	!node_stack_top = DELETE
	node_stack_side = 0, -2.2, 0,               1, 0, 0.0,       3
	node_stack_bottom = -0.47, -13.13, 0.0,    0.0, -1.0, 0.0,   2
	@mass = 2.5
	@maxTemp = 1500
	!RESOURCE[LiquidFuel] {}
	!RESOURCE[Oxidizer] {}
	%fuelCrossFeed = false
    MODULE
    {
        name = ModuleFuelTanks
        volume = 38612
        type = Balloon
        basemass = -1
        TANK
        {
            name = Kerosene
            amount = 13591
            maxAmount = 13591
        }
        TANK
        {
            name = LqdOxygen
            amount = 25021
            maxAmount = 25021
        }
    }
	@MODULE[ModuleEngines*]
	{
		@heatProduction = 1
	}
	@MODULE[ModuleAnchoredDecoupler]
	{
		@explosiveNodeID = side
	}
}


//=================================================================================================
// ENGINES
//=================================================================================================

//-------------------------------------------------------------------------------------------------
@PART[r7_blok_a_engine]
{
	@title = RD-108 Engine Cluster
	%RSSROConfig = true
	@MODEL
	{
        @scale = 1, 1, 1
	}
	@scale = 1
	@node_stack_top = 0.0, 0.0, 0.0,                0.0, 1.0, 0.0,    2
	@node_stack_1 = 1.101279, -0.5696619, 0.0,      0.0, -1.0, 0.0,   1
	@node_stack_2 = -1.101279, -0.5696619, 0.0,     0.0, -1.0, 0.0,   1
	@node_stack_3 = 0.0, -0.5696619, -1.101279,     0.0, -1.0, 0.0,   1
	@node_stack_4 = 0.0, -0.5696619, 1.101279,      0.0, -1.0, 0.0,   1
	@mass = 0.872 // 1252 - 4*95
	@maxTemp = 1500
	@MODULE[ModuleEngines]
	{
		@name = ModuleEnginesFX
		@heatProduction = 100
		//@maxThrust = 713.6 // SL
		@maxThrust = 617.6 // SL
		// or 617.6	and 744.5
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
	        @ratio = 0.352
	    }
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen 
			@ratio = 0.648      // 2.56
		}
		@atmosphereCurve
	 	{
			@key,0 = 0 308
			@key,1 = 1 241
	 	}
		useEngineResponseTime = True
        engineAccelerationSpeed = 2.00
    	engineDecelerationSpeed = 2.30
        powerEffectName = Kerolox-Upper
	}
    PLUME
    {
        name = Kerolox-Upper
        transformName = thrustTransform
        flarePosition = 0, 0, 0.4
        flareScale = 0.5
        plumePosition = 0, 0, 0.8
        plumeScale = 0.4
        energy = 1
        speed = 1
    }

	%MODULE[ModuleEngineConfigs]
	{
		configuration = Semyorka
		modded = false
		CONFIG
		{
			name = Vostok
			minThrust = 912
			maxThrust = 912
			heatProduction = 200
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.352
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.648
			}
			atmosphereCurve
			{
				key = 0 315
				key = 1 248
			}
		}
		CONFIG
		{
			name = Sputnik 1
			minThrust = 839.3
			maxThrust = 839.3
			heatProduction = 200
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.352
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.648
			}
			atmosphereCurve
			{
				key = 0 303.1
				key = 1 239.1
			}
		}
		CONFIG
		{
			name = Semyorka
			minThrust = 617.6
			maxThrust = 617.6
			heatProduction = 200
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.352
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.648
			}
			atmosphereCurve
			{
				key = 0 308
				key = 1 241
			}
		}
	}	
}

//-------------------------------------------------------------------------------------------------
@PART[r7_bvgd_engine]
{
	@title = RD-107 Engine Cluster
	%RSSROConfig = true
	@MODEL
	{
        @scale = 1, 1, 1
	}
	@scale = 1
	@node_stack_top = 0.0, 0.0, 0.04682224,             0.0, 1.0, 0.0,    2
	@node_stack_1 = 0.5469764, -0.8646214, 2.053954,    0.0, -1.0, 0.0,   1
	@node_stack_2 = -0.543354, -0.8646214, 2.053954,    0.0, -1.0, 0.0,   1
	@mass = 0.955 // 1145 - 2*95
	@maxTemp = 2200
	@MODULE[ModuleEngines]
	{
		@name = ModuleEnginesFX
		@heatProduction = 100
		//@maxThrust = 792.5 // SL
		@maxThrust = 744.5 // SL
		// or 617.6	and 744.5
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
	        @ratio = 0.352
	    }
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen 
			@ratio = 0.648
		}
		@atmosphereCurve
	 	{
			@key,0 = 0 306
			@key,1 = 1 250
	 	}
		useEngineResponseTime = True
        engineAccelerationSpeed = 2.00
    	engineDecelerationSpeed = 2.30
        powerEffectName = Kerolox-Lower
	}
    PLUME
    {
        name = Kerolox-Lower
        transformName = thrustTransform
        flarePosition = 0, 0, 0.4
        flareScale = 0.5
        plumePosition = 0, 0, 0.8
        plumeScale = 0.4
        energy = 1
        speed = 1
    }

	%MODULE[ModuleEngineConfigs]
	{
		configuration = Semyorka
		modded = false
		CONFIG
		{
			name = Vostok
			minThrust = 971
			maxThrust = 971
			heatProduction = 200
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.352
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.648
			}
			atmosphereCurve
			{
				key = 0 256
				key = 1 313
			}
		}
		CONFIG
		{
			name = Sputnik 1
			minThrust = 643.7
			maxThrust = 643.7
			heatProduction = 200
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.352
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.648
			}
			atmosphereCurve
			{
				key = 0 276.6
				key = 1 304.2
			}
		}
		CONFIG
		{
			name = Semyorka
			minThrust = 617.6
			maxThrust = 617.6 
			heatProduction = 200
			PROPELLANT
			{
				name = Kerosene
				ratio = 0.352
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LqdOxygen
				ratio = 0.648
			}
			atmosphereCurve
			{
				key = 0 306
				key = 1 250
			}
		}
	}	
}


//-------------------------------------------------------------------------------------------------
@PART[r7_vernier_engine_v_fg]
{
	@title = R-7 Vernier Engine
	%RSSROConfig = true
	@MODEL
	{
        @scale = 1, 1, 1
	}
	@scale = 1
	@node_stack_top = 0.0, 0.0, 0,     0.0, 1.0, 0.0,     1
	@mass = 0.095
	@maxTemp = 2200
	@MODULE[KM_Gimbal]
	{
		@yawGimbalRange = 0
		@pitchGimbalRange = 45
		@responseSpeed = 25
	}
	@MODULE[ModuleEngines]
	{
		@name = ModuleEnginesFX
		@heatProduction = 50
		@maxThrust = 24 // SL
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
	        @ratio = 0.352
	    }
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen 
			@ratio = 0.648       
		}
		@atmosphereCurve
	 	{
			@key,0 = 0 310
			@key,1 = 1 250
	 	}
        powerEffectName = Kerolox-Upper
	}
    PLUME
    {
        name = Kerolox-Upper
        transformName = gimbal
        flarePosition = 0, 0, 0.75
        flareScale = 0.25
        plumePosition = 0, 0, 0.85
        plumeScale = 0.2
        energy = 1
        speed = 1
    }
}

@PART[r7_bvgd_engine|r7_blok_a_engine]:AFTER[zzRealPlume]
{
	@EFFECTS
	{
		@engage
		{
			@AUDIO
			{
				@clip = RealPlume/KW_Sounds/sound_liq8
			}
		}
	}
}
